1. Роли и права доступа (жёстко привязываются к Telegram ID)
РольTelegram ID задаётся вручную в настройках бота (один раз)Что может делатьСотрудниквсе, кроме двух указанных IDСоздавать заявки, видеть свои заявки, писать завхозу, жаловаться на завхозаЗавхоз1 конкретный IDВсё: менять статусы, работать со складом, получать заявки и жалобы, делать рассылкиРуководитель1 конкретный IDТолько просмотр + приём жалоб (ничего редактировать не может)2. Основной функционал
2.1 Для всех пользователей
* /start - приветствие + меню в зависимости от роли
2.2 Для сотрудников
Меню (ReplyKeyboard):
* Новая заявка
* Мои заявки
* Связаться с завхозом
* Помощь
Создание заявки (пошаговый мастер):
1. Категория (кнопки, список см. ниже)
2. Текст "Что нужно / какая проблема" (свободный ввод)
3. Количество (если материал, иначе пропускается)
4. Приоритет: Обычная / Срочно
5. Фото (до 5 шт., необязательно)
6. Подтверждение → заявка получает номер ЗХ-ДДММГГ-№№№ (например ЗХ-271125-001)
Категории заявок (фиксированный список):
* Канцелярия
* Чай, кофе, сахар, вода
* Хозтовары и уборка
* Лампочки и мелкая электрика
* Сантехника
* Ремонт мебели, окон, дверей
* Ключи и пропуска
* ИТ-оборудование и расходники
* Прочее
В любой своей заявке у сотрудника есть кнопка "Пожаловаться руководителю" → выбор причины (кнопками) + свободный текст → жалоба мгновенно уходит руководителю и копия завхозу.
2.3 Для завхоза
Меню (ReplyKeyboard):
* Новые заявки (с бейджиком количества)
* Все заявки за сегодня
* Все заявки за неделю
* Склад
* Рассылка всем сотрудникам
* Настройки
Под каждой пришедшей заявкой 4 инлайн-кнопки:
* Взять в работу
* Выполнено
* Отклонить (обязательно ввести причину)
* Написать сотруднику
Статусы заявки (автоматически меняются): Новая → В работе → Выполнено / Отклонено
Склад (простейший):
* Завхоз сам добавляет позиции (название + минимальный остаток)
* Для каждой позиции: текущее кол-во, кнопки "+ Приход", "- Списать"
* При закрытии заявки кнопка "Списать со склада" → выбор позиции → ввод количества → списание
* Ежедневно в 8:30 напоминание, если остаток ≤ минимального
2.4 Для руководителя
Меню:
* Заявки за сегодня
* Заявки за неделю
* В работе > 3 дней
* В работе > 7 дней
* Отчёт за период (кол-во новых/выполненных/отклонённых)
* Жалобы на завхоза (список со временем и текстом)
Автоматические уведомления руководителю:
* Каждое утро в 9:00 краткий отчёт за предыдущий день
* Мгновенно при поступлении жалобы на завхоза
* Если срочная заявка висит "Новая" > 2 часов
* Если есть заявки "В работе" > 7 дней

