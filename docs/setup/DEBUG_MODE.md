# ðŸ› Ð ÐµÐ¶Ð¸Ð¼ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸ (Debug Mode)

## ðŸ“‹ ÐšÐ°Ðº Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÐ±Ð°Ð³ Ñ€ÐµÐ¶Ð¸Ð¼

### 1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env`

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð¾ÐºÑƒ:

```env
LOG_LEVEL=DEBUG
```

### 2. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°

```powershell
# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° (Ctrl+C)
# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°
python main.py
```

---

## ðŸ“Š Ð£Ñ€Ð¾Ð²Ð½Ð¸ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### `DEBUG` - ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°
- âœ… Ð’ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ)
- âœ… Ð¢Ñ€ÐµÐ¹ÑÐ±ÐµÐºÐ¸ Ð²ÑÐµÑ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- âœ… Ð›Ð¾Ð³Ð¸ aiogram (Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Telegram API)
- âœ… Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð²ÑÐµÑ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð´Ð»Ñ:**
- ÐžÑ‚Ð»Ð°Ð´ÐºÐ¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
- ÐŸÐ¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð±Ð¾Ñ‚Ð°
- Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð½Ð¾Ð²Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹

### `INFO` - Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)
- âœ… Ð’Ð°Ð¶Ð½Ñ‹Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ (Ð·Ð°Ð¿ÑƒÑÐº, Ð¾ÑˆÐ¸Ð±ÐºÐ¸)
- âœ… ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸
- âŒ ÐÐµÑ‚ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð»Ð¾Ð³Ð¾Ð²

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð´Ð»Ñ:**
- ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
- ÐžÐ±Ñ‹Ñ‡Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

### `WARNING` - Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ
- âœ… Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸
- âŒ ÐÐµÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹

### `ERROR` - Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸
- âœ… Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑˆÐ¸Ð±ÐºÐ¸
- âŒ ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸

---

## ðŸ” Ð§Ñ‚Ð¾ Ð»Ð¾Ð³Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð² DEBUG Ñ€ÐµÐ¶Ð¸Ð¼Ðµ

### 1. Ð’ÑÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
```
DEBUG - Ð—Ð°Ð¿Ñ€Ð¾Ñ Ðº Ð‘Ð”: SELECT * FROM requests WHERE id = 123
```

### 2. Ð’ÑÐµ callback_query ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ
```
DEBUG - Callback query: complaint_start_123, user_id=456
```

### 3. Ð’ÑÐµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼Ð¸ Ñ‚Ñ€ÐµÐ¹ÑÐ±ÐµÐºÐ°Ð¼Ð¸
```
ERROR - ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¶Ð°Ð»Ð¾Ð±Ñ‹: Bad Request
ERROR - Ð¢Ñ€ÐµÐ¹ÑÐ±ÐµÐº:
  File "bot/handlers/complaints.py", line 54, in start_complaint_creation
    await callback.message.edit_text(...)
  ...
```

### 4. Ð’ÑÐµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ FSM (ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÑÐ¼Ð¸)
```
DEBUG - FSM: Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ð½Ð° waiting_for_reason
DEBUG - FSM: Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹: {'request_id': 123}
```

---

## ðŸ“ ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð»Ð¾Ð³Ð¾Ð²

### Ð£ÑÐ¿ÐµÑˆÐ½Ð¾Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¶Ð°Ð»Ð¾Ð±Ñ‹
```
2025-12-05 12:00:00 - bot.handlers.complaints - DEBUG - ÐÐ°Ñ‡Ð°Ð»Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¶Ð°Ð»Ð¾Ð±Ñ‹ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ 123, Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ 456
2025-12-05 12:00:01 - bot.handlers.complaints - DEBUG - Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ 123
2025-12-05 12:00:05 - bot.handlers.complaints - DEBUG - Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð° Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¶Ð°Ð»Ð¾Ð±Ñ‹: ÐÐµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ (Ð¸Ð½Ð´ÐµÐºÑ 0)
2025-12-05 12:00:10 - bot.services.complaint_service - DEBUG - Ð–Ð°Ð»Ð¾Ð±Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð°: ID=789
```

### ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
```
2025-12-05 12:00:00 - bot.handlers.complaints - DEBUG - ÐÐ°Ñ‡Ð°Ð»Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¶Ð°Ð»Ð¾Ð±Ñ‹ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ 123, Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ 456
2025-12-05 12:00:01 - bot.handlers.complaints - DEBUG - ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ: Bad Request: there is no text in the message to edit, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð½Ð¾Ð²Ð¾Ðµ
2025-12-05 12:00:01 - bot.handlers.complaints - DEBUG - Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ 123
```

### ÐžÑˆÐ¸Ð±ÐºÐ° Ñ Ñ‚Ñ€ÐµÐ¹ÑÐ±ÐµÐºÐ¾Ð¼
```
2025-12-05 12:00:00 - bot.handlers.complaints - ERROR - ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¶Ð°Ð»Ð¾Ð±Ñ‹ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ 123: Bad Request
2025-12-05 12:00:00 - bot.handlers.complaints - ERROR - Ð¢Ñ€ÐµÐ¹ÑÐ±ÐµÐº:
Traceback (most recent call last):
  File "bot/handlers/complaints.py", line 54, in start_complaint_creation
    await callback.message.edit_text(...)
  File "aiogram/client/session/base.py", line 123, in make_request
    ...
BadRequest: Bad Request: there is no text in the message to edit
```

---

## ðŸ› ï¸ ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

### 1. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ DEBUG Ñ€ÐµÐ¶Ð¸Ð¼
```env
LOG_LEVEL=DEBUG
```

### 2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°
```powershell
python main.py
```

### 3. Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ
- ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð¶Ð°Ð»Ð¾Ð±Ñ‹
- Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÑƒ

### 4. Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸
- Ð’ÑÐµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ñ‹ Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼Ð¸ Ñ‚Ñ€ÐµÐ¹ÑÐ±ÐµÐºÐ°Ð¼Ð¸
- Ð’Ð¸Ð´Ð½Ð¾ Ð²ÑÐµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð±Ð¾Ñ‚Ð°

### 5. ÐŸÐ¾ÑÐ»Ðµ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸ Ð²ÐµÑ€Ð½Ð¸Ñ‚Ðµ INFO
```env
LOG_LEVEL=INFO
```

---

## âš ï¸ Ð’Ð°Ð¶Ð½Ð¾

- **DEBUG Ñ€ÐµÐ¶Ð¸Ð¼ Ð·Ð°Ð¼ÐµÐ´Ð»ÑÐµÑ‚ Ð±Ð¾Ñ‚Ð°** - Ð¼Ð½Ð¾Ð³Ð¾ Ð»Ð¾Ð³Ð¾Ð²
- **ÐÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ DEBUG Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ** - Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾ Ð»Ð¾Ð³Ð¾Ð²
- **Ð›Ð¾Ð³Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ** - Ð½Ðµ Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÐ¹Ñ‚Ðµ Ð¸Ñ… Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾

---

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ

- Ð’ÑÐµ Ð»Ð¾Ð³Ð¸ Ð²Ñ‹Ð²Ð¾Ð´ÑÑ‚ÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ (stdout)
- Ð”Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð»Ð¾Ð³Ð¾Ð² Ð² Ñ„Ð°Ð¹Ð» Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ:
  ```powershell
  python main.py > bot.log 2>&1
  ```

