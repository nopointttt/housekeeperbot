# Конфигурация ID пользователей

## Описание

Все ID пользователей (руководитель, завхоз, сотрудники) теперь настраиваются через файл `.env`.

## Настройка в .env

Добавьте следующие переменные в ваш `.env` файл:

```env
# ID руководителя (обязательно)
MANAGER_ID=460275491

# ID завхоза (обязательно)
WAREHOUSEMAN_ID=468845503

# ID сотрудников (через запятую, опционально)
ALLOWED_EMPLOYEE_IDS=123456789,987654321,555555555
```

## Приоритет проверки доступа

1. **Конфиг файл (.env)** - основной источник (проверяется первым)
   - `MANAGER_ID` - всегда имеет доступ как руководитель
   - `WAREHOUSEMAN_ID` - всегда имеет доступ как завхоз
   - `ALLOWED_EMPLOYEE_IDS` - список ID сотрудников с доступом

2. **База данных (allowed_users)** - резервный источник
   - Если пользователя нет в конфиге, проверяется БД
   - Полезно для динамического управления доступом через SQL

## Примеры

### Минимальная конфигурация
```env
MANAGER_ID=460275491
WAREHOUSEMAN_ID=468845503
# Сотрудники только через БД
```

### Полная конфигурация
```env
MANAGER_ID=460275491
WAREHOUSEMAN_ID=468845503
ALLOWED_EMPLOYEE_IDS=123456789,987654321,555555555,111222333
```

### Добавление нового сотрудника

**Способ 1: Через .env (требует перезапуска бота)**
1. Добавьте ID в `ALLOWED_EMPLOYEE_IDS`
2. Перезапустите бота

**Способ 2: Через БД (без перезапуска)**
```sql
INSERT INTO allowed_users (id, full_name) 
VALUES (999888777, 'Иванов Иван Иванович');
```

## Важно

- После изменения `.env` файла **необходимо перезапустить бота**
- ID в `ALLOWED_EMPLOYEE_IDS` должны быть разделены запятой без пробелов или с пробелами (они будут автоматически удалены)
- Если `ALLOWED_EMPLOYEE_IDS` пустой или не указан, доступ проверяется только через БД
- Руководитель и завхоз **всегда** имеют доступ, независимо от других настроек

